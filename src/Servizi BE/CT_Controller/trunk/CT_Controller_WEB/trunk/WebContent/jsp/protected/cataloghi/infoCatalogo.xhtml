<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<h:form id="infoCForm">

	<rich:extendedDataTable width="100%" height="500px" var="row"
		value="#{infoCatBean.listaColonne}" id="listCol" rowKeyVar="idx"
		enableContextMenu="false" noDataLabel="Nessun elemento trovato"
		onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
		<f:facet name="header">
			<rich:columnGroup>
				<rich:column colspan="10" width="99%">
					<h:outputText value="Lista colonne" />
				</rich:column>
			</rich:columnGroup>
		</f:facet>
		<rich:column width="10%">
			<f:facet name="header">
				<h:outputText value="Visibile" />
			</f:facet>
			<h:selectBooleanCheckbox value="#{row.visibile}">
				<a4j:support event="onclick" reRender="listCol" />
			</h:selectBooleanCheckbox>
		</rich:column>
		<rich:column width="45%">
			<f:facet name="header">
				<h:outputText value="Nome" />
			</f:facet>
			<h:outputText value="#{row.colonna}" />
		</rich:column>
		<rich:column width="45%">
			<f:facet name="header">
				<h:outputText value="Alias" />
			</f:facet>
			<h:inputText value="#{row.alias}" disabled="#{!row.visibile}" />
		</rich:column>
	</rich:extendedDataTable>

	<rich:spacer height="15px" />

	<center>
		<h:panelGrid columns="3">
			<a4j:commandButton value="Salva" styleClass="button"
				action="#{infoCatBean.doSaveInfo}" oncomplete="Richfaces.hideModalPanel('panelInfoCat')">
				<a4j:support event="onclick"
					onsubmit="if (!confirm('Procedere con il salvataggio?')) return false" />
			</a4j:commandButton>
			<rich:spacer width="20px" />
			<a4j:commandButton value="Annulla" styleClass="button"
				oncomplete="Richfaces.hideModalPanel('panelInfoCat')">
			</a4j:commandButton>
		</h:panelGrid>
	</center>

</h:form>

</html>