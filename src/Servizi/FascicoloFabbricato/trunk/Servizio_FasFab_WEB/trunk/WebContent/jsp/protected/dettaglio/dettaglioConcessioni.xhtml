<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core">

  		<ui:composition>
  		  <div style="height:650px; overflow:auto">
			<h:form>
			   <rich:panel>
  			   	  <center><h:outputLabel value="CONCESSIONI EDILIZIE AL CIVICO"/></center>	
	    			<br></br>
  			   	  	<h:panelGrid columns="10">
	    			<h:outputText value="SEZIONE" styleClass="myLabel" rendered="#{datiTecniciBean.showLabelFPS}" />
	    			<h:outputText value="#{datiTecniciBean.sezione}" rendered="#{datiTecniciBean.showLabelFPS}" />
	    			<h:outputText value="FOGLIO" styleClass="myLabel" rendered="#{datiTecniciBean.showLabelFPS}" />
	    			<h:outputText value="#{datiTecniciBean.foglio}" rendered="#{datiTecniciBean.showLabelFPS}" />
	    			<h:outputText value="PARTICELLA" styleClass="myLabel" rendered="#{datiTecniciBean.showLabelFPS}" />
	    			<h:outputText value="#{datiTecniciBean.particella}" rendered="#{datiTecniciBean.showLabelFPS}" />
	    			<h:outputText value="SUB" styleClass="myLabel" rendered="#{datiTecniciBean.showLabelFPS}" />
	    			<h:outputText value="#{datiTecniciBean.sub}" rendered="#{datiTecniciBean.showLabelFPS}" />
	    			<h:outputText value="LOCALIZZAZIONE (Catasto)" styleClass="myLabel" />
	    			<h:panelGrid>
	    			<a4j:repeat var="elem" value="#{datiTecniciBean.listaIndCatastali}">
	    				<h:outputLabel value="#{elem.strada}, #{elem.numCivico}" /><br/>
	    			</a4j:repeat>
	    			</h:panelGrid>
	    			</h:panelGrid>	  	
	    			  	  
  			   </rich:panel>
  			   <rich:spacer height="10px"/>
			
  			   
				<rich:panel >
					<rich:dataTable width="100%"
				        	var="elem"
				        	value="#{datiTecniciBean.listaConcEdiCivici}"
				        	columnClasses="col" 
				        	onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
							onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column>Anno</rich:column>
							<rich:column>Prog.</rich:column>
							<rich:column>Numero</rich:column>
							<rich:column>Data Prot.</rich:column>
							<rich:column>Data Rilascio</rich:column>
							<rich:column>Inizio Lavori</rich:column>
							<rich:column>Fine Lavori</rich:column>
							<rich:column>Oggetto</rich:column>
							<rich:column>Soggetti</rich:column>
							<rich:column>F-P-S</rich:column>	
						 	<rich:column>Indirizzi</rich:column>	
						</rich:columnGroup>
					</f:facet>					
					<rich:column style="text-align:center">
						<h:outputLabel value="#{elem.progAnno}" />
					</rich:column>
					<rich:column style="text-align:center">
						<h:outputLabel value="#{elem.progNumero}" />
					</rich:column>		
					<rich:column style="text-align:center">
						<h:outputLabel value="#{elem.concNumero}" />
					</rich:column>	
					<rich:column style="text-align:center">
						<h:outputLabel value="#{elem.dataProt}" >
							<f:convertDateTime pattern="dd/MM/yyyy" timeZone="#{datiTecniciBean.timeZone}"/>
						</h:outputLabel>
					</rich:column>	
					<rich:column style="text-align:center">
						<h:outputLabel value="#{elem.dataRilascio}" >
							<f:convertDateTime pattern="dd/MM/yyyy" timeZone="#{datiTecniciBean.timeZone}"/>
						</h:outputLabel>
					</rich:column>	
					<rich:column style="text-align:center">
						<h:outputLabel value="#{elem.dataInizioLavori}" >
							<f:convertDateTime pattern="dd/MM/yyyy" timeZone="#{datiTecniciBean.timeZone}"/>
						</h:outputLabel>
					</rich:column>	
					<rich:column style="text-align:center">
						<h:outputLabel value="#{elem.dataFineLavori}" >
							<f:convertDateTime pattern="dd/MM/yyyy" timeZone="#{datiTecniciBean.timeZone}"/>
						</h:outputLabel>
					</rich:column>	
					<rich:column style="text-align:left">
						<h:outputLabel value="#{elem.oggetto}" />
					</rich:column>
					<rich:column  style="text-align:left">
						<h:outputLabel value="#{elem.listaSoggettiHtml}" />
					</rich:column>		
					<rich:column style="text-align:left">
						<h:outputLabel value="#{elem.stringaImmobili}" />
					</rich:column>	
					<rich:column style="text-align:left">
						<h:panelGrid>
							 <a4j:repeat value="#{elem.listaIndirizzi}" var="ind" >
								<h:outputLabel value="#{ind.indirizzo} #{ind.civico}" /><br></br>
							</a4j:repeat>
						</h:panelGrid>
					</rich:column>		
					</rich:dataTable>
				</rich:panel>					
	        </h:form>
	       </div>
	        
 		</ui:composition>
</html>