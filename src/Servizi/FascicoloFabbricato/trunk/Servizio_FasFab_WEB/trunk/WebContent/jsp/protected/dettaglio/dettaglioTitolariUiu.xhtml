<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core">

  		<ui:composition>
			
				<h:form>

				     <ui:include src="./intestazioneCatasto.xhtml">
						<ui:param name="catTitolo" value="Titolari"/>
						<ui:param name="catFoglio" value="#{catastoBean.foglio}"/>
						<ui:param name="catParticella" value="#{catastoBean.particella}" />
						<ui:param name="catSub" value="#{catastoBean.sub}"/>							
					</ui:include>
	
				   	<rich:panel >
				    	<f:facet name="header">Titolari Attuali</f:facet>
				    				
										<rich:dataTable width="100%"
								        	var="titolare"
								        	value="#{catastoBean.listaTitolariAttuali}"
								        	columnClasses="col" 
								        	onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						                    onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
												
							<f:facet name="header">
                        			<rich:columnGroup>
                        				<rich:column>
                                			Tipo Sogg.
                            			</rich:column>
										<rich:column>
                                			Denominazione
                            			</rich:column>                        			
                            			<rich:column>
                                			CF/PI
                            			</rich:column>
                          				<rich:column>
                                			Inizio Poss.
                            			</rich:column>
                            			<rich:column>
                                			Titolo
                            			</rich:column>
										<rich:column>
                                			Quota
                            			</rich:column>
                            	
									</rich:columnGroup>
							   </f:facet>  		
						
							   			<rich:column>						
											<h:outputLabel value="#{titolare.descTipo}" />
						 				</rich:column>
							   												
										<rich:column style="text-align:left">
											<f:facet name="header"><h:outputText value="" /></f:facet>
											
												<h:outputLabel value="#{titolare.nomeSoggetto} " rendered="#{'P' eq titolare.tipo}" />&nbsp;<h:outputLabel value="#{titolare.cognomeSoggetto != null and not empty titolare.cognomeSoggetto ? titolare.cognomeSoggetto : titolare.denominazioneSoggetto }" rendered="#{'P' eq titolare.tipo}" />
											
												<h:outputLabel value="#{titolare.denominazioneSoggetto}" rendered="#{'G' eq titolare.tipo}" />
											
										</rich:column>					            
										<rich:column style="text-align:left">
												<h:outputLabel value="#{titolare.cfSoggetto}" rendered="#{'P' eq titolare.tipo}"/>
											
												<h:outputLabel value="#{titolare.pivaSoggetto}" rendered="#{'G' eq titolare.tipo}"/>
											
										</rich:column>
										<rich:column>
											
											<h:outputLabel value="#{titolare.dataInizioPossStr}" />
										</rich:column>
										<rich:column>						
											<h:outputLabel value="#{titolare.titolo}" />
										</rich:column>
										<rich:column>						
											<h:outputLabel value="#{titolare.quota}" />
										</rich:column>
							
							          			
							            																							
									</rich:dataTable>
								
				        </rich:panel>
				      
					
				    		<rich:panel >
								<f:facet name="header">Storico titolari</f:facet>		
										<rich:dataTable width="100%"
								        	var="titolare"
								        	value="#{catastoBean.listaTitolariStorici}"
								        	columnClasses="col" 
								        	onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						                    onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
						                    
							<f:facet name="header">
                        			<rich:columnGroup>
										<rich:column>
                                			Tipo Sogg.
                            			</rich:column>
										<rich:column>
                                			Denominazione
                            			</rich:column>                        			
                            			<rich:column>
                                			CF/PI
                            			</rich:column>
                          				<rich:column>
                                			Inizio Poss.
                            			</rich:column>
                          				<rich:column>
                                			Fine Poss.
                            			</rich:column>                          				                            			
                            			<rich:column>
                                			Titolo
                            			</rich:column>
										<rich:column>
                                			Quota
                            			</rich:column>
									</rich:columnGroup>
							   </f:facet>  				
							        	<rich:column>						
											<h:outputLabel value="#{titolare.descTipo}" />
						 				</rich:column>
							   										                    
										<rich:column style="text-align:left">
											<h:outputLabel value="#{titolare.nomeSoggetto} " rendered="#{'P' eq titolare.tipo}" />&nbsp;<h:outputLabel value="#{titolare.cognomeSoggetto != null and not empty titolare.cognomeSoggetto ? titolare.cognomeSoggetto : titolare.denominazioneSoggetto }" rendered="#{'P' eq titolare.tipo}" />
											<h:outputLabel value="#{titolare.denominazioneSoggetto}" rendered="#{'G' eq titolare.tipo}" />
										</rich:column>					            
										<rich:column style="text-align:left">											
											<h:outputLabel value="#{titolare.cfSoggetto}" rendered="#{'P' eq titolare.tipo}"/>											
											<h:outputLabel value="#{titolare.pivaSoggetto}" rendered="#{'G' eq titolare.tipo}"/>
											
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{titolare.dataInizioPossStr}" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{titolare.dataFinePossStr}" />
										</rich:column>
										<rich:column>						
											<h:outputLabel value="#{titolare.titolo}" />
										</rich:column>
										<rich:column>																	
											<h:outputLabel value="#{titolare.quota}" />
										</rich:column>
										
							          			
							            <f:facet name="footer">
							                <rich:datascroller renderIfSinglePage="false" maxPages="5"/>
							            </f:facet>																								
									</rich:dataTable>
								</rich:panel>
				      
					
					
					
		        </h:form>
		
  		</ui:composition>
</html>