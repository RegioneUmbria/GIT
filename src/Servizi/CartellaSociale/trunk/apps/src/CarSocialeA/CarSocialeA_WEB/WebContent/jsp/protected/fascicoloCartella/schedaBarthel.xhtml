<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:webred="http://java.sun.com/jsf/composite/webred"
	xmlns:webredcs="http://java.sun.com/jsf/composite/webredcs">

<ui:fragment rendered="#{managedBean.versionLowerCase eq '1'}">
	<p:dialog id="schedaBarthelDialog" widgetVar="schedaBarthelDialog" header="Scheda Barthel" modal="true" maximizable="true" draggable="true" resizable="true" width="1000px" dynamic="true" >
		
		<p:tabView id="barthelTabView" style="padding:0;" orientation="top" scrollable="true" effect="fade">  
			
			<p:tab id="BarthelTab" title="Dati Barthel" titletip="Scheda Barthel" >
				<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" style="margin: 10px">
					<p:row>
						<p:column colspan="2">
							<p:scrollPanel mode="native" style="height:500px">
								<h:panelGrid columns="1">
									<h:outputText value="Alimentazione" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio id="idBarthelAlimentazione" value="#{managedBean.jsonCurrent.mainData.alimentazione}" style="display:inline;" layout="grid" columns="1" >
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaAlimentazione}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Bagno/Doccia (lavarsi)" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio id="idBarthelBagnoDoccia" value="#{managedBean.jsonCurrent.mainData.bagnoDoccia}" style="display:inline;" layout="grid" columns="1" >
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaBagnoDoccia}"/>	
								     </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Igiene personale" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.igienePersonale}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaIgienePersonale}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Abbigliamento" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.abbigliamento}" style="display:inline;" layout="grid" columns="1" >
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaAbbigliamento}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Continenza intestinale" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
								<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.continenzaIntestinale}" style="display:inline;" layout="grid" columns="1">
									<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
									<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaContinenzaIntestinale}"/>	
							    </p:selectOneRadio>
							    <h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Continenza urinaria" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.continenzaUrinaria}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaContinenzaUrinaria}"/>	
								    </p:selectOneRadio>
	
									<table width="100%">
										<tbody>
											<tr>
												<td align="left">
													<p:outputLabel id="nmumeroPannoloniLabel" value="#{managedBean.jsonCurrent.mainData.numeroPannoloniLabel}" for="nmumeroPannoloniLabel"/>
											    </td>
												<td >
													<p:spinner id="nmumeroPannoloniValue" value="#{managedBean.jsonCurrent.mainData.numeroPannoloni}" min="0" max="1000" />
												</td>
											</tr>
										</tbody>
									</table>
	
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Uso del gabinetto" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>    
									<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.usoGabinetto}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaUsoGabinetto}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Trasferimento letto - carozzina" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.lettoCarrozzina}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaLettoCarrozzina}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Deambulazione" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.deambulazione}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaDeambulazione}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Scale" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.scale}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaScale}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Uso della carrozzina" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.usoCarrozzina}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleBarthelValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeBarthelTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaUsoCarrozzina}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Protesi e ausili in uso" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<h:panelGrid columns="2" >
										<h:outputText value="Deambulatore" />
										<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.deambulatore}" columns="3">
											<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaDaChi}"/>
										</p:selectOneRadio>
	
										<h:outputText value="Carrozzina" />
										<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.carrozzina}" columns="3">
											<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaDaChi}"/>
										</p:selectOneRadio>
	
										<h:outputText value="Materassino cuscino antidecubito" />
										<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.materassinoCuscinoAntidecubito}" columns="3">
											<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaDaChi}"/>
										</p:selectOneRadio>
	 
										<h:outputText value="Letto ortopedico" />
										<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.lettoOrtopedico}" columns="3">
											<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaDaChi}"/>
										</p:selectOneRadio>
	
										<h:outputText value="Presidio per incontinenza" />
										<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.presidioPerIncontinenza}" columns="3">
											<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaDaChi}"/>
										</p:selectOneRadio>
	
										<h:outputText value="Altro" />
										<p:selectOneRadio value="#{managedBean.jsonCurrent.mainData.altraProtesiDaChi}" columns="3">
											<f:selectItems value="#{managedBean.jsonCurrent.mainData.listaDaChi}"/>
										</p:selectOneRadio>
	
										<h:outputText value="Specificare" />
										<p:inputText value="#{managedBean.jsonCurrent.mainData.altraProtesi}" />
										
									</h:panelGrid>
							</p:scrollPanel>
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<h:outputText id="punteggioTotaleBarthelLabel" value="Punteggio totale Barthel" />
						</p:column>
						<p:column>
							<h:outputText id="punteggioTotaleBarthelValue" value="#{managedBean.jsonCurrent.mainData.punteggioTotale}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column >
						    <h:outputText value="#{managedBean.jsonCurrent.mainData.intervistaALabel}" />
						</p:column>
						<p:column>
							<p:inputText value="#{managedBean.jsonCurrent.mainData.intervistaA}" />
						</p:column>
					</p:row>
				</p:panelGrid>
			</p:tab>
			<p:tab id="IADLTab" title="Dati IADL" titletip="Scheda IADL" >  
				<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg">
					<p:row>
						<p:column colspan="2">
							<p:scrollPanel mode="native" style="height:500px">
								<h:panelGrid columns="1">
									<h:outputText value="Capacità di usare il telefono" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.iadlData.capacitaUsareTelefono}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleIADLValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeIADLTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.iadlData.listaCapacitaUsareTelefono}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Fare acquisti" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.iadlData.fareAcquisti}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleIADLValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeIADLTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.iadlData.listaFareAcquisti}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Preparazione del cibo" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.iadlData.preparazioneCibo}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleIADLValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeIADLTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.iadlData.listaPreparazioneCibo}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Governo della casa" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.iadlData.governoDellaCasa}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleIADLValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeIADLTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.iadlData.listaGovernoDellaCasa}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Biancheria" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.iadlData.biancheria}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleIADLValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeIADLTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.iadlData.listaBiancheria}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Mezzi di trasporto" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.iadlData.mezziDiTrasporto}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleIADLValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeIADLTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.iadlData.listaMezziDiTrasporto}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Responsabilità nell'uso dei farmaci" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.iadlData.responsabilitaUsoFarmaci}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleIADLValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeIADLTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.iadlData.listaResponsabilitaUsoFarmaci}"/>	
								    </p:selectOneRadio>
								<h:panelGrid columns="1">
									<p:spacer height="20"/>
									<h:outputText value="Capacità di maneggiare denaro" style="font-weight: bold;"/>	
									<p:spacer height="10"/>
								</h:panelGrid>
									<p:selectOneRadio value="#{managedBean.jsonCurrent.iadlData.capacitaGestioneDenaro}" style="display:inline;" layout="grid" columns="1">
										<p:ajax update="punteggioTotaleIADLValue" event="change" partialSubmit="true" listener="#{managedBean.onChangeIADLTab}" />
										<f:selectItems value="#{managedBean.jsonCurrent.iadlData.listaCapacitaGestioneDenaro}"/>	
								    </p:selectOneRadio>
							</p:scrollPanel>
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<p:outputLabel id="punteggioTotaleIADLLabel" value="Punteggio totale IADL" for="punteggioTotaleIADLValue"/>
						</p:column>
						<p:column >
							<h:outputText id="punteggioTotaleIADLValue" value="#{managedBean.jsonCurrent.iadlData.punteggioTotale}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column >
						    <p:outputLabel id="iadlCompilataByLabel" value="#{managedBean.jsonCurrent.iadlData.intervistaALabel}" for="iadlCompilataByValue"/>
						</p:column>
						<p:column>
							<p:inputText id="iadlCompilataByValue" value="#{managedBean.jsonCurrent.iadlData.intervistaA}" />
						</p:column>
					</p:row>
				</p:panelGrid>
			</p:tab>
			<p:tab id="PatologiePsichiatricheTab" title="Patologie Psichiche" titletip="Patologie Psichiche" >
				<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg">
					<p:row>
						<p:column colspan="2">
							<p:outputLabel value="Patologie psichiche e comportamentali"/> 
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="2">
							<p:outputLabel value="Elementi significativi acquisiti dalla psicologa, dal MMG o dallo specialista in relazione alle patologie psichiche e comportamentali." />
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="2">
							<h:panelGrid columns="2" >
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.ansiaLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.ansia}"/>
							
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.depressioneLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.depressione}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.deliriLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.deliri}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.allucinazioniLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.allucinazioni}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.agitazionePsicoMotoriaDiurnaLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.agitazionePsicoMotoriaDiurna}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.agitazionePsicoMotoriaNotturnaLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.agitazionePsicoMotoriaNotturna}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.deambulazioneIncessanteLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.deambulazioneIncessante}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.affacendamentoAfinalisticoLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.affacendamentoAfinalistico}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.inversioneDelRitmoSonnoVegliaLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.inversioneDelRitmoSonnoVeglia}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.aggressivitaLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.aggressivita}"/>
								
								<h:outputText            value="#{managedBean.jsonCurrent.patologiePsichiatricheData.urlaLamentazioniVocalizzazioniRipetitiveLabel}" />
								<p:selectBooleanCheckbox value="#{managedBean.jsonCurrent.patologiePsichiatricheData.urlaLamentazioniVocalizzazioniRipetitive}"/>
							</h:panelGrid>
						</p:column>										
					</p:row>
					<p:row>
						<p:column >
							<p:outputLabel id="dataValutazioneLabel" value="#{managedBean.jsonCurrent.patologiePsichiatricheData.dataDiValutazioneLabel}" for="dataValutazioneValue"/>
						</p:column>
						<p:column>
							<p:calendar id="dataValutazioneValue" value="#{managedBean.jsonCurrent.patologiePsichiatricheData.dataDiValutazione}" pattern="dd/MM/yyyy"  mask="true" />
						</p:column>
					</p:row>
				</p:panelGrid>
			</p:tab>
		</p:tabView>	
			
		<table width="100%">
			<tbody>
				<tr>
					<td align="right">
						<p:commandButton
							action="#{managedBean.save}"
							icon="ui-icon-document-b"
							title="Salva" value="Salva" 
							process="@parent" update="barthelTabView"
							oncomplete="if (args &amp;&amp; args.canClose)  PF('schedaBarthelDialog').hide()">
						</p:commandButton>
						<p:commandButton
							action="#{managedBean.restore}"
							icon="ui-icon-document-b"
							title="Ripristina Dati" value="Ripristina Dati" 
							update=":#{p:component('barthelTabView')}" process="@this">
						</p:commandButton>
					</td>
				</tr>
			</tbody>
		</table>
	
	</p:dialog>
</ui:fragment>

<ui:fragment rendered="#{managedBean.versionLowerCase eq '0'}">
	<p:dialog id="schedaBarthelDialogVer1" widgetVar="schedaBarthelDialog" header="Scheda Barthel" modal="true" maximizable="true" draggable="true" resizable="true" width="1000px" dynamic="true" >
		
		<p:outputLabel value="Questo è un test" />
		<p:inputText value="#{managedBean.jsonCurrent.test}" />
		
		<table width="100%">
			<tbody>
				<tr>
					<td align="right">
						<p:commandButton
							action="#{managedBean.save}"
							icon="ui-icon-document-b"
							title="Salva" value="Salva" 
							process="@parent" update="barthelTabView"
							oncomplete="if (args &amp;&amp; args.canClose)  PF('schedaBarthelDialogVer1').hide()">
						</p:commandButton>
						<p:commandButton
							action="#{managedBean.restore}"
							icon="ui-icon-document-b"
							title="Ripristina Dati" value="Ripristina Dati" 
							process="@this">
						</p:commandButton>
					</td>
				</tr>
			</tbody>
		</table>
	</p:dialog>
</ui:fragment>
</html>