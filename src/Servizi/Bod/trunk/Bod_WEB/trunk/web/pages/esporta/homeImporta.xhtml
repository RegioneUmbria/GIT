<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">

   		<f:loadBundle basename="resources" var="msg" />

   		<ui:composition template="/WEB-INF/templates/common.xhtml">
      
			<ui:define name="pageTitle">Importa</ui:define>
  
			<ui:define name="pageHeader">Facelets Hello Application Importa</ui:define>

			<!--  <ui:define name="subHeader">Sottotitolo</ui:define>  -->

			<ui:define name="body">

			 <div style="overflow: auto">
			 <rich:panel style="padding:5; width : 810px; position: relative">
			        <f:facet name="header">
			        	<h:outputText value="Importazione Esiti Segnalazioni" />
			        </f:facet>
			 
			<a4j:outputPanel ajaxRendered="true" layout="block" >
			<h:panelGrid columns="1">
					<f:facet name="header">
			        	<h:outputText value="Max 1 files zip per ogni upload" />
			        </f:facet>
				<rich:fileUpload 
			            	fileUploadListener="#{esportaFiltroBck.uploadListener}"
			                maxFilesQuantity="#{esportaFiltroBck.bodUploadSwitch.maxFileQuantity}"
			                id="upload"
			                immediateUpload="#{esportaFiltroBck.bodUploadSwitch.autoUpload}"
			                acceptedTypes="#{esportaFiltroBck.bodUploadSwitch.acceptedTypes}" 
			                sizeErrorLabel="Errore nelle dimensioni del file"					                
			                transferErrorLabel="Errore di trasferimento del file"
			                disabled="false"					                			                				                
			                addControlLabel="Aggiungi..."
			                autoclear="false"
			                doneLabel="Caricamento ESEGUITO"
			                listHeight="300px"
			                ontyperejected="alert('File presente in lista o con estensione diversa da ZIP');"
			                noDuplicate="true"
			                allowFlash="false"			                
			                >
			                <a4j:support 
			                	event="onuploadcomplete" 
			                	reRender="info, add"/>
			            </rich:fileUpload>
			
			</h:panelGrid>
			</a4j:outputPanel>
		       
		       </rich:panel>
		       </div>
			</ui:define>
			
			<ui:define name="modalPanel">
<!-- ******************* MODALE ZIP MANAGER  ******************************* -->
			<ui:include src="./zipManagerModal.xhtml" />
<!-- ******************* MODALE DETTAGLIO FORNITURA  ******************************* -->
			<ui:include src="./istruttorieModal.xhtml" />			
			
			</ui:define>

			<ui:define name="footer">
				
				<table style="width : 810px; position: relative">
					<tr>
					<td width="20%" align="left">
				        
					</td>
					<td width="20%">
					</td>
					<td width="20%" align="center">

					</td>
					<td width="20%" align="center">

					</td>
					<td width="20%">
					</td>
					</tr>
				</table>
				
			</ui:define>
</ui:composition>

</html>      