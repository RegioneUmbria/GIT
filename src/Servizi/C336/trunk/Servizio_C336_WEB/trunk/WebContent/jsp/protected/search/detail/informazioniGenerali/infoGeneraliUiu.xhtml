<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<rich:dataTable width="100%" var="row" value="#{detailBean.dtoInfoGenerali.listaSitiuiu}"
		id="listSitiuiu" onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
		rows="30">
		<f:facet name="header">
			<rich:columnGroup>
				<rich:column colspan="20">
					<h:outputText value="Variazioni catastali amministrative del subalterno" />
				</rich:column>
			</rich:columnGroup>
		</f:facet>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Foglio" />
			</f:facet>
			<h:outputText value="#{row.id.foglio}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Particella" />
			</f:facet>
			<h:outputText value="#{row.id.particella}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Subalterno" />
			</f:facet>
			<h:outputText value="#{row.id.unimm}"/>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Data Inizio Val." />
			</f:facet>
			<center>
			<h:outputText value="#{row.dataInizioVal}" >
				<f:convertDateTime pattern="dd/MM/yyyy" timeZone="CET" />
			</h:outputText>
			</center>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Data Fine Val." />
			</f:facet>
			<center>
			<h:outputText value="#{row.id.dataFineVal}" rendered="#{row.id.dataFineVal ne '31/12/9999'}">
				<f:convertDateTime pattern="dd/MM/yyyy" timeZone="CET" />
			</h:outputText>
			</center>
		</rich:column>
		
		<rich:column style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Categoria" />
			</f:facet>
			<h:outputText value="#{row.categoria}"/>
		</rich:column>
		<rich:column style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Classe" />
			</f:facet>
			<h:outputText value="#{row.classe}"/>
		</rich:column>
		<rich:column style="text-align:right;">
			<f:facet name="header">
				<h:outputText value="Rendita" />
			</f:facet>
			<h:outputText value="#{row.rendita}" rendered="#{row.rendita!=null}">
				<f:convertNumber currencySymbol="&euro;" groupingUsed="true" minFractionDigits="2" type="currency"></f:convertNumber>
			</h:outputText>
		</rich:column>
		<rich:column style="text-align:right;">
			<f:facet name="header">
				<h:outputText value="Superficie" />
			</f:facet>
			<h:outputText value="#{row.supCat}">
				<f:convertNumber groupingUsed="true" minFractionDigits="2" type="number"></f:convertNumber>
			</h:outputText>
		</rich:column>
		<rich:column style="text-align:right;">
			<f:facet name="header">
				<h:outputText value="Consistenza" />
			</f:facet>
			<h:outputText value="#{row.consistenza}">
				<f:convertNumber groupingUsed="true" minFractionDigits="2" type="number"></f:convertNumber>
			</h:outputText>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Piano" />
			</f:facet>
			<h:outputText value="#{row.piano}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Partita" />
			</f:facet>
			<h:outputText value="#{row.partita}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Annotazioni" />
			</f:facet>
			<h:outputText value="#{row.annotazioni}"/>
		</rich:column>
		
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Sezione" />
			</f:facet>
			<h:outputText value="" />
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Zona" />
			</f:facet>
			<h:outputText value="#{row.zona}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Microzona" />
			</f:facet>
			<h:outputText value="#{row.microzona}"/>
		</rich:column>
	</rich:dataTable>

	<rich:spacer height="10px"/>
	
	<rich:dataTable width="100%" var="row" value="#{detailBean.dtoInfoGenerali.listaTitolariCatasto}"
		id="listCatTit" onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
		rows="30">
		<f:facet name="header">
			<rich:columnGroup>
				<rich:column colspan="20">
					<h:outputText value="Intestatari a Catasto" />
				</rich:column>
			</rich:columnGroup>
		</f:facet>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Denominazione" />
			</f:facet>
			<h:outputText rendered = "#{row.consSoggTab.flagPersFisica eq G}" value="#{row.consSoggTab.ragiSoci}"/>
			<h:outputText rendered = "#{row.consSoggTab.flagPersFisica ne G}" value="#{row.consSoggTab.ragiSoci} #{row.consSoggTab.nome}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Titolo" />
			</f:facet>
			<h:outputText value="#{row.titolo}"/>
		</rich:column>
		<rich:column width="20px" style="text-align:right;">
			<f:facet name="header">
				<h:outputText value="Quota %" />
			</f:facet>
			<h:outputText value="#{row.percPoss}">
				<f:convertNumber  minFractionDigits="2"  ></f:convertNumber>
			</h:outputText>
		</rich:column>
		
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Data Inizio" />
			</f:facet>
			<h:outputText value="#{row.dataInizioPossesso}">
				<f:convertDateTime pattern="dd/MM/yyyy" timeZone="CET" />
			</h:outputText>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Data Fine" />
			</f:facet>
			<h:outputText value="#{row.dataFinePossesso}">
				<f:convertDateTime pattern="dd/MM/yyyy" timeZone="CET" />
			</h:outputText>
		</rich:column>
		
		
	</rich:dataTable>
	
	<rich:spacer height="30px"/>

	<rich:dataTable width="100%" var="row" value="#{detailBean.dtoInfoGenerali.listaDocfa}"
		id="listDocfa" onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
		rows="30">
		<f:facet name="header">
			<rich:columnGroup>
				<rich:column colspan="20">
					<h:outputText value="Docfa" />
				</rich:column>
			</rich:columnGroup>
		</f:facet>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Protocollo" />
			</f:facet>
			<h:outputText value="#{row.protocollo}"/>
		</rich:column>
		<rich:column width="100px">
			<f:facet name="header">
				<h:outputText value="Fornitura" />
			</f:facet>
			<h:outputText value="#{row.dataFornitura}">
				<f:convertDateTime pattern="MMMMM yyyy" timeZone="CET" />
			</h:outputText>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Data Variazione" />
			</f:facet>
			<h:outputText value="#{row.dataVariazione}">
				<f:convertDateTime pattern="dd/MM/yyyy" timeZone="CET" />
			</h:outputText>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Causale" />
			</f:facet>
			<h:outputText value="#{row.causale}"/>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Num.Soppresse" />
			</f:facet>
			<center><h:outputText value="#{row.numUiInSoppressione}"/></center>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Num.Variate" />
			</f:facet>
			<center><h:outputText value="#{row.numUiInVariazione}"/></center>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Num.Costituite" />
			</f:facet>
			<center><h:outputText value="#{row.numUiInCostituzione}"/></center>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="uiu coinvolte" />
			</f:facet>
			<h:outputText value="#{row.elencoUI}"/>
		</rich:column>
		<rich:column width="20px">
			<f:facet name="header">
				<h:outputText value="" />
			</f:facet>
			
			<h:graphicImage value="/images/list.png" id="img10" style="cursor: pointer;">
				<a4j:support event="onclick" reRender="docfaPage"
					oncomplete="Richfaces.showModalPanel('docfaModalBox'); return false;"
					action="#{docfaDetailBean.doCaricaDocfa}">
					<a4j:actionparam value="#{row.protocollo}"
						name="protDocfa" assignTo="#{docfaDetailBean.protocollo}" />
					<a4j:actionparam value="#{row.dataFornituraStr2}"
						name="fornDocfa" assignTo="#{docfaDetailBean.sFornitura}" />
					<a4j:actionparam
						value="/jsp/protected/search/detail/informazioniGenerali/docfa.xhtml" name="pgdocfa"
						assignTo="#{pageUiBean.pageDocfa}" />
				</a4j:support>
				<rich:toolTip direction="top-left" mode="client" layout="inline" value="Dettaglio Docfa" />
			</h:graphicImage>
			</rich:column>
		<rich:column width="20px">
			<f:facet name="header">
				<h:outputText value="" />
			</f:facet>
			<h:commandLink title="Visualizza PDF Docfa"
						action="#{docfaDetailBean.doDownload}">
						<h:graphicImage value="/images/pdf.png" id="imgPDFDocfa"
							style="padding-left:10px; border: 0; cursor: pointer;" />
						<a4j:actionparam value="#{row.protocollo}"
							name="protDocfaPDF" assignTo="#{docfaDetailBean.protocollo}" />
						<a4j:actionparam value="#{row.dataFornituraStr2}"
							name="fornDocfaPDF" assignTo="#{docfaDetailBean.sFornitura}" />
						<a4j:actionparam
							value="#{row.protocollo}.pdf"
							name="fileDocfa" assignTo="#{docfaDetailBean.fileName}" />
			</h:commandLink>
		</rich:column>
		
	</rich:dataTable>
	
	<rich:spacer height="30px"/>

	<rich:dataTable width="100%" var="row" value="#{detailBean.dtoInfoGenerali.listaConcEdi}"
		id="listConcEdi" onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
		rows="30">
		<f:facet name="header">
			<rich:columnGroup>
				<rich:column colspan="20">
					<h:outputText value="Concessioni Edilizie" />
				</rich:column>
			</rich:columnGroup>
			
		</f:facet>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Prog. Anno" />
			</f:facet>
			<h:outputText value="#{row.progAnno}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Numero Conc." />
			</f:facet>
			<h:outputText value="#{row.concNumero}"/>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Data Protocollo" />
			</f:facet>
			<h:outputText value="#{row.dataProtStr}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Oggetto" />
			</f:facet>
			<h:outputText value="#{row.oggetto}"/>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Prov." />
			</f:facet>
			<h:outputText value="#{row.provenienza}"/>
		</rich:column>
		<rich:column width="60px">
			<f:facet name="header">
				<h:outputText value="UI coinvolte" />
			</f:facet>
			<h:outputText value="#{row.stringaImmobili}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Soggetti" />
			</f:facet>
			<a4j:repeat value="#{row.listaSoggetti}" var="srow" >
			 	<h:outputText value="#{srow.titolo}:  #{srow.datiAnag}"/><br/>
        	</a4j:repeat>
		</rich:column>
		
	</rich:dataTable>
	
	<rich:spacer height="30px"/>

	<rich:dataTable width="100%" var="row" value="#{detailBean.dtoInfoGenerali.listaOggettiIci}"
		id="listOggICI" onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
		rows="30">
		<f:facet name="header">
			<rich:columnGroup>
				<rich:column colspan="20">
					<h:outputText value="Lista Oggetti ICI" />
				</rich:column>
			</rich:columnGroup>
		</f:facet>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Foglio" />
			</f:facet>
			<h:outputText value="#{row.foglio}"/>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Particella" />
			</f:facet>
			<h:outputText value="#{row.numero}"/>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Sub" />
			</f:facet>
			<h:outputText value="#{row.sub}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Anno Den." />
			</f:facet>
			<h:outputText value="#{row.yeaDen}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Num. Den." />
			</f:facet>
			<h:outputText value="#{row.numDen}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText  value="Anno Rif." />
			</f:facet>
			<h:outputText rendered="#{row.yeaRif ne '0000'}" value="#{row.yeaRif}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Categoria" />
			</f:facet>
			<h:outputText value="#{row.cat}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Classe" />
			</f:facet>
			<h:outputText value="#{row.cls}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:right;">
			<f:facet name="header">
				<h:outputText value="Rendita" />
			</f:facet>
			<h:outputText value="#{row.valImm}">
				<f:convertNumber groupingUsed="true" minFractionDigits="2"  type="number"></f:convertNumber>
			</h:outputText>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Indirizzo" />
			</f:facet>
			<h:outputText value="#{row.desInd}, #{row.numCiv}"/>
		</rich:column>
	</rich:dataTable>
	
	<rich:spacer height="10px"/>

	<rich:dataTable width="100%" var="row" value="#{detailBean.dtoInfoGenerali.listaSoggettiIci}"
		id="listSoggICI" onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
		rows="30">
		<f:facet name="header">
			<rich:columnGroup>
				<rich:column colspan="20">
					<h:outputText value="Lista Soggetti ICI" />
				</rich:column>
			</rich:columnGroup>
		</f:facet>
				<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Foglio" />
			</f:facet>
			<h:outputText value="#{row.oggetto.foglio}"/>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Particella" />
			</f:facet>
			<h:outputText value="#{row.oggetto.numero}"/>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Sub" />
			</f:facet>
			<h:outputText value="#{row.oggetto.sub}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Anno Den." />
			</f:facet>
			<h:outputText value="#{row.oggetto.yeaDen}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Num.Den." />
			</f:facet>
			<h:outputText value="#{row.oggetto.numDen}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText  value="Anno Rif." />
			</f:facet>
			<h:outputText rendered="#{row.oggetto.yeaRif ne '0000'}" value="#{row.oggetto.yeaRif}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Num. Riga" />
			</f:facet>
			<h:outputText value="#{row.oggetto.numRiga}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Prov." />
			</f:facet>
			<h:outputText value="#{row.soggetto.provenienza}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:right;">
			<f:facet name="header">
				<h:outputText value="Rendita" />
			</f:facet>
			<h:outputText value="#{row.oggetto.valImm}">
				<f:convertNumber currencySymbol="&euro;" groupingUsed="true" minFractionDigits="2" type="currency"></f:convertNumber>
			</h:outputText>
		</rich:column>
		<rich:column width="40px">
			<f:facet name="header">
				<h:outputText value="Tipo Den." />
			</f:facet>
			<h:outputText value="#{row.oggetto.tipDen}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Titolo" />
			</f:facet>
			<h:outputText value="#{row.soggetto.tipoSoggetto}"/>
		</rich:column>
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Nominativo" />
			</f:facet>
			<h:outputText value="#{row.soggetto.cogDenom} #{row.soggetto.nome} "/>
		</rich:column>
		<rich:column width="40px" style="text-align:center;">
			<f:facet name="header">
				<h:outputText value="Data Nascita" />
			</f:facet>
			<h:outputText value="#{row.soggetto.dtNsc}">
				<f:convertDateTime pattern="dd/MM/yyyy" timeZone="CET" />
			</h:outputText>
		</rich:column>
	
		<rich:column width="40px" style="text-align:right;">
			<f:facet name="header">
				<h:outputText value="Mesi" />
			</f:facet>
			<h:outputText value="#{row.oggetto.mesiPos}"/>
		</rich:column>
		<rich:column width="40px" style="text-align:right;">
			<f:facet name="header">
				<h:outputText value="Quota %" />
			</f:facet>
			<h:outputText value="#{row.oggetto.prcPoss}">
				<f:convertNumber groupingUsed="true" minFractionDigits="2" type="number"></f:convertNumber>
			</h:outputText>
		</rich:column>
		
		<rich:column>
			<f:facet name="header">
				<h:outputText value="Poss.al 31/12" />
			</f:facet>
			<center>
				<h:graphicImage value="/images/passed.gif" id="img4part"
					rendered="#{row.oggetto.flgPos3112 == '1'}">
					<rich:toolTip direction="top-left" mode="client" layout="inline"
						value="SI" />
				</h:graphicImage>
				<h:graphicImage value="/images/error.gif" id="img5part"
					rendered="#{row.oggetto.flgPos3112 == '0'}">
					<rich:toolTip direction="top-left" mode="client" layout="inline"
						value="NO" />
				</h:graphicImage>
			</center>
		</rich:column>
	</rich:dataTable>

</html>


		