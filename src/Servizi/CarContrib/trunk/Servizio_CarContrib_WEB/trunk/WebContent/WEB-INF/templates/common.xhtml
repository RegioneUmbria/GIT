<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">
      
		<head>
			<title><ui:insert name="pageTitle">Page Title</ui:insert></title>
		
<style type="text/css">
	
	body {
	  font-family: Arial, Verdana , sans-serif;
	  font-size: 12px;
	  margin:0;
  	  padding:5 0 0 0;
	  width: 95%;
	  left:0;
	  background-color: #ebf3fd;
	}
	#header{
	  position:absolute;
	  top:0;
	  left:0;
	  width:100%;
	  height:12%; /* Se si cambia questa percentuale va cambiata anche quella del padding di frmMain, content */
	  background-color: #ebf3fd;
	  min-height: 70px;
	}
	@media screen{
	  body>div#header{
	   position: fixed;
		}
	}
	#content{
	  position: absolute;
	  top: 15%;  /* Se si cambia questa percentuale va cambiata anche quella del padding di frmMain, header */
	  height:87%;	/* Questo valore modifica l'altezza del div content sottostante alla toolbar del menu */
	  overflow: auto;
	  width: 100%;
	  background-color: #ebf3fd;
	}
	#frmMain{ /*IE6 hack*/                                                                                                   
		padding: 12% 0 0 0; /* Se si cambia questa percentuale va cambiata anche quella del padding di header, content */                                                             
		width: 95%;        /* Serve per evitare di vedere la scrollbar orizzontale a full screen */                                                                                                                
	}
	#frm{
	  position: absolute;
	  top: 83%;
	  left: 0px;  
	  width: 100%;
	}
	#imgHeader{
	border: 1;
	height: 80%; /* questa percentuale e' Riferirta al div header */
	width: 100%;
	}
	html{
		overflow: hidden;
	}
	.menuBar{
		width: 100%;
		
	}
	.MyInput{
	   width : 120px;
	   font-size: 11px;
	}
	.footer {
		text-align: center;
		border-width: 1px;
		border-color: #ebf3fd;
		border-style: solid;
		color: #CCCCCC;
	    font: normal bold 14px sans-serif;
	    background-image: url('#{ctxName}/images/underground.png');
	}
	table {
		border:0px solid #ebf3fd;
		width:100%;
		cellspacing:5;
	}
	.barsearch {
	     height:14px;
	     width:100px;
	}
	.barsearchbutton {
	    border-width:1px; 
	    background-color:#{a4jSkin.generalBackgroundColor};
	}
	.my-button{		
		width : 70px;
		border-style: solid; 	
		border-width: 1; 
		border-color: silver;
		background-color: #ebf3fd;
	}
</style>

</head>

<body >
	<div id="header">
				<img src='#{ctxName}/images/header-bod.gif' id="imgHeader"/>
				<h:form id="frm">
					<rich:toolBar itemSeparator="line" styleClass="menuBar">
			            <rich:toolBarGroup>
			              <h:graphicImage id="imgRicerca" value="/images/icons/filter.gif"/>
			              <h:commandLink value="Ricerca" id="ricerca" action="#{ricercaFiltroBck.preparaFiltro}"/>
			            </rich:toolBarGroup>
			            <rich:toolBarGroup>                       
			              <h:graphicImage id="imgStatistiche" value="/images/icons/find.gif" />
			              <h:commandLink value="Statistiche" id="statistiche" action="#{statisticaFiltroBck.preparaFiltro}"/>
			            </rich:toolBarGroup>
			            <rich:toolBarGroup>                       
			              <h:graphicImage id="imgEsporta" value="/images/icons/filter.gif" />
			              <h:commandLink value="Esporta" id="esporta" action="#{esportaFiltroBck.preparaFiltro}"/>
			            </rich:toolBarGroup>
			            <rich:toolBarGroup location="right">
				            <a4j:status startText="Processing...." stopText="Processed." startStyle="color:green" stopStyle="color:red"/>
			            </rich:toolBarGroup>
			            <rich:toolBarGroup location="right">
							<h:outputText value="Benvenuto #{menuBck.utente.name}" />			              						            
			            </rich:toolBarGroup>
			            <rich:toolBarGroup location="right">
						  <h:graphicImage id="imgHome" value="/images/icons/group.png" />
			              <h:commandLink value="Home" id="home" action="#{menuBck.starting}"/>						            
			            </rich:toolBarGroup>
			            <rich:toolBarGroup location="right">
      			              <h:outputLink value="#{ctxName}/logout-redirect.jsp">
								       	<h:outputText value="Logout"/>
								</h:outputLink>						            
			            </rich:toolBarGroup>
			        </rich:toolBar>         
				</h:form>
						 			
	</div>
	<a4j:form id="frmMain" ajaxSubmit="true" >
	<div id="content" align="center">
				<table align="center">
					<tbody>
						<tr>
							<td align="center">
							  <rich:panel style="background-color: #ebf3fd; height:100%;  ">
									<ui:insert name="body"><!-- Page Body --></ui:insert>
							  </rich:panel>
							</td>
						</tr>
						<tr>
							<td align="center" width="95%" valign="middle" height="7%">
							  <rich:panel styleClass="footer" style="height:100% ">
								<ui:insert name="footer">
										<!-- footer -->
								</ui:insert>
							  </rich:panel>
							</td>
						</tr>
					</tbody>
				</table>
	</div>
	</a4j:form>	
	<table>
	<tr>
		<td align="center" width="95%" valign="middle" height="1%">
			<ui:insert name="modalPanel"><!-- modal panel --></ui:insert>
		</td>
		<td>
		</td>
	</tr>
	</table>
</body>
		
</html>