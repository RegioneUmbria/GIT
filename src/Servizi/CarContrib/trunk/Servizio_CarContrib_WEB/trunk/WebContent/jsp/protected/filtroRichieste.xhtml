<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core">     

	<ui:composition template="/jsp/protected/layout/layout.xhtml">
		<ui:define name="content">
			<h:form id="myForm">
				<div class="divTitolo">
					<h:outputText value="FILTRO RICHIESTE" />
				</div>			
				<rich:panel>
					<div id="divTable" >  				
						<table border="0" style="width:100%" cellspacing="1">
							<tbody>
								<tr>
									<td align="left" style="width:150px;">
										<h:outputText value="COD. FISCALE" styleClass="myLabel" />
									</td>
									<td align="left">
										<span class="labelRicOutPut"><h:inputText  id="codFiscale" value="#{filtroDataModel.criteria.codFiscale}" maxlength="16" size="20" /></span>			
									</td>
									<td align="left" style="width:150px;">
							        	<h:outputText value="DATA NASCITA" styleClass="myLabel" />									
									</td>
									<td align="left">
										<span class="labelRicOutPut">
											<rich:calendar 
											 	id="dataNascita" 
											 	value="#{filtroDataModel.criteria.dataNascita}"
												datePattern="dd/MM/yyyy" 
												enableManualInput="true"
												timeZone="#{filtroDataModel.timeZone}"
					                     		inputStyle="width:100px"/>
						                </span>
									</td>
								</tr>
								<tr >
									<td align="left">
										<h:outputText value="COGNOME" styleClass="myLabel" />									
									</td>
									<td align="left" width="250px">
										<span class="labelRicOutPut"><h:inputText value="#{filtroDataModel.criteria.cognome}" size="35" /></span>
									</td>
									<td align="left" style="width:60px;">
										<h:outputText value="NOME" styleClass="myLabel"  style="width:60px;" />
									</td>
									<td align="left">
										<span class="labelRicOutPut"><h:inputText value="#{filtroDataModel.criteria.nome}" size="35" /></span>			
									</td>
								</tr>
								<tr style="background-color: #ebf3fd;display: none" >
									<td align="left">
										<h:outputText value="COMUNE ID NASCITA" styleClass="myLabel" />
									</td>
									<td colspan="3">
										<span class="labelRicOutPut"><h:inputText value="#{filtroDataModel.criteria.comuneNascita}" size="30" /></span>									
									</td>									
								</tr>
							</tbody>
						</table>
					</div>
				</rich:panel>
				<rich:spacer height="10px" />
				<rich:panel >
					<div id="divTablePersGiur">
						<table border="0" style="width:100%" cellspacing="1">
							<tbody>
								<tr >
									<td align="left" style="width:150px;">
										<h:outputText value="PARTITA IVA" styleClass="myLabel" />
									</td>
									<td>
										<span class="labelRicOutPut"><h:inputText value="#{filtroDataModel.criteria.partitaIva}" size="20" /></span>
									</td>
									<td align="left" style="width:150px;">
										<h:outputText value="DENOMINAZIONE" styleClass="myLabel" />
									</td>
									<td>
										<span class="labelRicOutPut"><h:inputText value="#{filtroDataModel.criteria.denominazione}" size="50" /></span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>	  			
	  			</rich:panel>
	  			<rich:spacer height="10px" />
	  			<rich:panel>
					<div id="divTable" >  				
						<table border="0" style="width:100%" cellspacing="1">
							<tbody>
								<tr >
									<td align="left" style="width:150px;">
										<h:outputText value="COD. FISCALE RICHIEDENTE" styleClass="myLabel" />
									</td>
									<td align="left">
										<span class="labelRicOutPut"><h:inputText  id="codFiscaleRic" value="#{filtroDataModel.criteria.codFiscaleRichiedente}" maxlength="16" size="20" /></span>			
									</td>
									<td align="left" style="width:150px;">
							        	<h:outputText value="DATA NASCITA RICHIEDENTE" styleClass="myLabel" />									
									</td>
									<td align="left">
										<span class="labelRicOutPut">
											<rich:calendar 
											 	id="dataNascitaRic" 
											 	value="#{filtroDataModel.criteria.dataNascitaRichiedente}"
												datePattern="dd/MM/yyyy" 
												enableManualInput="true"
												timeZone="#{filtroDataModel.timeZone}"
					                     		inputStyle="width:100px"/>
						                </span>
									</td>
								</tr>
								<tr >
									<td align="left">
										<h:outputText value="COGNOME RICHIEDENTE" styleClass="myLabel" />									
									</td>
									<td align="left" width="250px">
										<span class="labelRicOutPut"><h:inputText id="cognomeRic" value="#{filtroDataModel.criteria.cognomeRichiedente}" size="35" /></span>
									</td>
									<td align="left" style="width:60px;">
										<h:outputText value="NOME RICHIEDENTE" styleClass="myLabel"  style="width:60px;" />
									</td>
									<td align="left">
										<span class="labelRicOutPut"><h:inputText id="nomeRic" value="#{filtroDataModel.criteria.nomeRichiedente}" size="35" /></span>			
									</td>
								</tr>
								
							</tbody>
						</table>
					</div>
				</rich:panel>
	  			<rich:spacer height="10px" />
				<rich:panel>
					<table border="0" style="width:100%" cellspacing="1">
			            <tbody>
			            	<tr >
								<td align="left" style="width:150px;">
									<h:outputText value="IDENTIFICATIVO RICHIESTA" styleClass="myLabel" />
								</td>
								<td align="left" colspan="3">
									<span class="labelRicOutPut"><h:inputText  id="idRichiesta" value="#{filtroDataModel.criteria.idRichiesta}" size="15" /></span>			
								</td>
							</tr>
							<tr >
								<td align="left" style="width:150px;">
									<h:outputText value="PROVENIENZA RICHIESTA" styleClass="myLabel"/>										
								</td>
								<td align="left" colspan="3">
									<span class="labelRicOutPut">
										<h:selectOneMenu id="tipoRichiesta" value="#{filtroDataModel.criteria.tipoRichiesta}">
											<f:selectItem id="iE" itemLabel="   --   SELEZIONA   --   " itemValue=""/>
											<f:selectItem id="i0" itemLabel="INTERNA" itemValue="A"/>
											<f:selectItem id="i1" itemLabel="WEB" itemValue="W"/>
										</h:selectOneMenu>									
									</span>			
								</td>
							</tr>
							<c:if test="#{filtroDataModel.visualizzaSelectOperatori}" >
								<tr >
									<td>
										<h:outputText value="OPERATORE" styleClass="myLabel"/>										
									</td>
									<td align="left" colspan="3">
										<h:selectOneMenu id="users" value="#{filtroDataModel.criteria.userGesRic}">
											<f:selectItem id="u0" itemLabel="   --   SELEZIONA   --   " itemValue=""/>
											<f:selectItems value="#{filtroDataModel.usersNames}"/>
										</h:selectOneMenu>	
									</td>
								</tr>
							</c:if>
							<tr >
								<td align="left">
									<h:outputText value="TIPO RICHIESTE" styleClass="myLabel" style="width:200px;"/>
								</td>								
								<td align="left" colspan="3">
									<h:selectOneMenu id="tipoR" value="#{filtroDataModel.criteria.risposta}">
										<f:selectItem id="tr0" itemLabel="   ---   SELEZIONA   ---   " itemValue=""/>
										<f:selectItem id="t0" itemLabel="NON EVASE" itemValue="0"/>
										<f:selectItem id="t1" itemLabel="EVASE" itemValue="1"/>
										<f:selectItem id="t2" itemLabel="EVASE MA RESPINTE" itemValue="2"/>
									</h:selectOneMenu>	
								</td>						
							</tr>							
							<tr >
								<td>
									<h:outputText value="DATA RICHIESTA DAL" styleClass="myLabel"/>
								</td>
								<td align="left" style="width:140px;">
									<span class="labelRicOutPut">
										<rich:calendar id="dataRichiestaDal" 
										 	value="#{filtroDataModel.criteria.dataRichiestaDal}"
											datePattern="dd/MM/yyyy" 
											enableManualInput="true"
											timeZone="#{filtroDataModel.timeZone}"
				                     		inputStyle="width:100px"/>
					                </span>
								</td>									
								<td style="width:40px;">
									<h:outputText value="AL" styleClass="myLabel" style="width:40px;" />
								</td>
								<td align="left" >
									<span class="labelRicOutPut">
										<rich:calendar id="dataRichiestaAl" 
										 	value="#{filtroDataModel.criteria.dataRichiestaAl}"
											datePattern="dd/MM/yyyy" 
											enableManualInput="true"
											timeZone="#{filtroDataModel.timeZone}"
				                     		inputStyle="width:100px"/>
					                </span>
								</td>									
							</tr>
							<tr >
								<td>
									<h:outputText value="DATA EVASIONE DAL" styleClass="myLabel"/>
								</td>
								<td align="left">
									<span class="labelRicOutPut">
										<rich:calendar id="dataEvasioneDal" 
										 	value="#{filtroDataModel.criteria.dataEvasioneDal}"
											datePattern="dd/MM/yyyy" 
											enableManualInput="true"
											timeZone="#{filtroDataModel.timeZone}"
				                     		inputStyle="width:100px"/>
					                </span>
								</td>									
								<td>
									<h:outputText value="AL" styleClass="myLabel" style="width:40px;" />
								</td>
								<td align="left" >
									<span class="labelRicOutPut">
										<rich:calendar id="dataEvasioneAl" 
										 	value="#{filtroDataModel.criteria.dataEvasioneAl}"
											datePattern="dd/MM/yyyy" 
											enableManualInput="true"
											timeZone="#{filtroDataModel.timeZone}"
				                     		inputStyle="width:100px"/>
					                </span>
								</td>									
							</tr>
							<tr >
								<td colspan="4" style="height:15px;" >
								</td>
							</tr>
							<tr>
								<td colspan="4" align="center">
									<a4j:commandButton id="btnRicerca" styleClass="my-button" value="Ricerca" style="width:150px" reRender="listaFiltroTable, tableScroller, panelContentTable" >
										<f:setPropertyActionListener value="true" target="#{filtroDataModel.showTableRusult}" />
									</a4j:commandButton>																
								</td>
							</tr>								
						</tbody>
					</table>	  				
	       		</rich:panel>
	  			<rich:spacer height="10px" />
				<rich:panel id="panelContentTable">
					<f:facet name="header">
						<h:outputText value="LISTA RICHIESTE TROVATE" />	
					</f:facet>
					<rich:dataTable width="100%"
							rendered="#{filtroDataModel.showTableRusult}"
							id="listaFiltroTable"
				        	var="filtro"
				        	value="#{filtroDataModel}"
				        	rows="20"
				        	onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
		                    onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
						<rich:column>
							<f:facet name="header"><h:outputText value="DATA RICHIESTA" /></f:facet>
							<h:outputLabel value="#{filtro.richiesta.strDataRichiesta}" />
						</rich:column>
						<rich:column>
							<f:facet name="header"><h:outputText value="ID RICHIESTA" /></f:facet>
							<h:outputLabel value="#{filtro.richiesta.idRichiesta}" />
						</rich:column>
						<rich:column>
							<f:facet name="header" style="text-align:left"><h:outputText value="TIPO" /></f:facet>
							<h:outputLabel value="#{filtro.descTipoRichiesta}" />
						</rich:column>								            
						<rich:column>
							<f:facet name="header" style="text-align:left"><h:outputText value="PROVENIENZA" /></f:facet>
							<h:outputLabel value="#{filtro.descTipoProvenienza}" />
						</rich:column>
						<rich:column>
							<f:facet name="header" style="text-align:left"><h:outputText value="NUM.PROTOCOLLO" /></f:facet>
							<h:outputLabel value="#{filtro.richiesta.numeroProtocollo}" />
						</rich:column>							
						<rich:column style="text-align:left">
							<f:facet name="header"><h:outputText value="SOGGETTO" /></f:facet>
							<h:outputLabel value="#{filtro.richiesta.identificativo}" />
						</rich:column>
						<rich:column style="text-align:left">
							<f:facet name="header"><h:outputText value="COD. FISC / P. IVA" /></f:facet>
							<h:outputLabel value="#{filtro.richiesta.codice}" />
						</rich:column>
						<rich:column>	
							<f:facet name="header"><h:outputText value="DATA DI NASCITA" /></f:facet>
							<h:outputLabel value="#{filtro.richiesta.strDataNascita}" />					
						</rich:column>
						<rich:column>		
							<f:facet name="header"><h:outputText value="EVASA" /></f:facet>				
							<h:outputLabel value="#{filtro.richiesta.richEvasa=='1'?'SI':'NO'}" />
						</rich:column>
						<rich:column>		
							<f:facet name="header"><h:outputText value="RESPINTA" /></f:facet>				
							<h:outputLabel value="#{filtro.richiesta.richRespinta=='1'?'SI':'NO'}" />
						</rich:column>						
						<rich:column>		
							<f:facet name="header"><h:outputText value="DATA EVASIONE" /></f:facet>				
							<h:outputLabel value="#{filtro.richiesta.strDataEvasione}" />
						</rich:column>						
						<rich:column>
							<a4j:commandLink 
								value="Dettaglio" 
								action="#{filtroBean.SelectRichiesta}" >
								<f:setPropertyActionListener value="#{filtro}" target="#{filtroBean.richiestaSelezionata}" />
							</a4j:commandLink>							
						</rich:column>
						<f:facet name="footer">
							<rich:datascroller id="tableScroller" align="center" for="listaFiltroTable" />
						</f:facet>						
					</rich:dataTable>					
				</rich:panel>	  			
			</h:form>
		</ui:define>
	</ui:composition>
</html>