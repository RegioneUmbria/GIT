<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core">

		<ui:composition>
			<c:if test="#{empty contribuenteBean.numeroSoggettiNucleo or contribuenteBean.numeroSoggettiNucleo=='0'}" >
				<f:facet name="label">
					<h:outputText value="Nucleo Familiare" />
				</f:facet>
				<rich:spacer height="20px" />
				<div style="height:60px;">
					<h:outputText value="DATI NON TROVATI" styleClass="titoloNero" style="font-weight: bold;" />
				</div>
			</c:if>
			<c:if test="#{not empty contribuenteBean.numeroSoggettiNucleo and contribuenteBean.numeroSoggettiNucleo!='0'}" >
				<f:facet name="label">
					<h:outputText value="Nucleo Familiare" />
				</f:facet>
				<a href="javascript:void(0);" onclick="javascript:window.open('../../help/Help_Dettaglio_Cartella_Nucleo_Familiare.htm','popupHelp','toolbar=no,scrollbars=yes,resizable=yes,width=800,height=600');" title="Clicca per visualizzare l'help"><img src="../../images/info.gif" border="0"></img></a>
				<div>
					<h:panelGrid columns="1" width="100%">
							<h:outputText value="#{contribuenteBean.nucleoFonte.strDataAgg}"/>
							<h:outputText value="#{contribuenteBean.nucleoFonte.nota}"/>
					</h:panelGrid>
				</div>		
				<rich:panel>
					<f:facet name="header">DATI ANAGRAFICI</f:facet>
					<table border="0" style="width:100%" cellspacing="1" class="#{contribuenteBean.nucleoFonte.coloreJsp}">
				           <tbody>
				           	<tr>
				           		<td style="width:30%;">
				           			<h:outputText value="Cognome Nome" styleClass="labelDesc" />
				           		</td>
				           		<td>
				           			<span class="labelOutPut"><h:outputText value="#{contribuenteBean.cognomeNomeNucleo}"/></span>
				           		</td>
				           	</tr>
				           	<tr>
				           		<td>
				           			<h:outputText value="Comune e Data di Nascita" styleClass="labelDesc" />
				           		</td>
				           		<td>
				           			<span class="labelOutPut"><h:outputText value="#{contribuenteBean.comuneDtNascitaNucleo}" /></span>
				           		</td>
				           	</tr>
				           	<tr>
				           		<td>
				           			<h:outputText value="Codice Fiscale" styleClass="labelDesc" />
				           		</td>
				           		<td>
				           			<span class="labelOutPut"><h:outputText value="#{contribuenteBean.codFiscaleNucleo}" /></span>
				           		</td>
				           	</tr>
				           	<tr>
				           		<td>
				           			<h:outputText value="Indirizzo di Residenza" styleClass="labelDesc" />
				           		</td>
				           		<td>
				           			<span class="labelOutPut"><h:outputText value="#{contribuenteBean.indirizzoResidenzaNucleo}" /></span>
				           		</td>
				           	</tr>					            	
				           	<tr>
				           		<td>
				           			<h:outputText value="Data Inizio Residenza" styleClass="labelDesc" />
				           		</td>
				           		<td>
				           			<span class="labelOutPut"><h:outputText value="#{contribuenteBean.dtInizioResidenzaNucleo}" /></span>
				           		</td>
				           	</tr>		           	
				           	<tr>
				           		<td>
				           			<h:outputText value="Posizione Anagrafica" styleClass="labelDesc" />
				           		</td>
				           		<td>
				           			<span class="labelOutPut"><h:outputText value="#{contribuenteBean.posizioneAnagraficaNucleo}" /></span>
				           		</td>
				           	</tr>				           	
				           </tbody>
					</table>	  				
				</rich:panel>
				<rich:spacer height="20px" />
				<rich:panel >
					<f:facet name="header">COMPONENTI NUCLEO FAMILIARE</f:facet>
					<rich:dataTable width="100%"
				        	var="elem"
				        	value="#{contribuenteBean.listaComponentiNucleo}"
				        	columnClasses="col" 
				        	onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
							onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'" 
							rowClasses="#{contribuenteBean.nucleoFonte.coloreJsp}">
						<rich:column>
							<f:facet name="header"><h:outputText value="Rel." /></f:facet>
							<h:outputLabel value="#{elem.relazPar}" />
						</rich:column>	
						<rich:column style="text-align:left">
							<f:facet name="header"><h:outputText value="Cognome" /></f:facet>
							<h:outputLabel value="#{elem.persona.cognome }" />
						</rich:column>	
						<rich:column style="text-align:left">
							<f:facet name="header"><h:outputText value="Nome" /></f:facet>
							<h:outputLabel value="#{elem.persona.nome }" />
						</rich:column>
						<rich:column>
							<f:facet name="header"><h:outputText value="Data nascita" /></f:facet>
							<h:outputLabel value="#{elem.dtNasStr}" />
						</rich:column>		
						<rich:column style="text-align:left">
							<f:facet name="header"><h:outputText value="Comune nascita" /></f:facet>
							<h:outputLabel value="#{elem.desLuogoNascita}" />
						</rich:column>		
						<rich:column style="text-align:left">
							<f:facet name="header"><h:outputText value="Cod.fisc." /></f:facet>
							<h:outputLabel value="#{elem.persona.codfisc}" />
						</rich:column>		
					</rich:dataTable>					
				</rich:panel>
			</c:if>
		</ui:composition>
</html>