#--------------------------------------------------------------
# File di configurazione in cui sono indicato i valori dei soli
# parametri di contesto della catena jelly da passare alla 
# regola 
#------------------------------------------------------------
# Numero di parametri previsti in input
rengine.jchain.in.nof=2
#------------------------------------------------------------
# Le coppie chiavi/valore hanno come key lo stesso nome 
# indicato nello script jelly xml
#------------------------------------------------------------
rengine.jchain.in.1.key=QUERYSQL_1
rengine.jchain.in.1.value=SELECT  decode(lpad(matricola_coniuge,10,'0'),'0000000000',null,lpad(matricola_coniuge,10,'0')) matricola_coniuge,matricola, p.caronte_data_inizio_val dt_exp_dato,         p.caronte_data_fine_val, nazionalita,          provincia_nascita AS cod_provincia1,         provincia_emigrazione AS cod_provincia2,         provincia_immigrazione AS cod_provincia3,          provincia_nascita AS sigla1, provincia_emigrazione AS sigla2,         provincia_immigrazione AS sigla3, comune_nascita_cod cod_comune1,         comune_emigrazione_cod cod_comune2,         comune_immigrazione_cod cod_comune3, comune_nascita_des des_comune1,         comune_emigrazione_des des_comune2,         comune_immigrazione_des des_comune3,         TO_CHAR (TO_NUMBER (p.codice_via)) codice_via, numero_civico, barrato,         subbarrato,         LTRIM (SUBSTR (cognome_nome, 0, INSTR (p.cognome_nome, '/') - 1)               ) cognome,         LTRIM (SUBSTR (cognome_nome, INSTR (p.cognome_nome, '/') + 1)) nome,         p.sesso sesso, p.codice_fiscale codfisc, flag_stato posiz_ana,         p.stato_civile, s.descrizione as descrizione_stato_civile, cognome_nome des_persona,         util.fchar_to_date (p.data_inizio_residenza,                             'YYYYMMDD HH24MISS'                            ) data_inizio_residenza,         util.fchar_to_date (p.data_immigrazione,                             'YYYYMMDD HH24MISS'                            ) data_imm,         util.fchar_to_date (p.data_emigrazione,                             'YYYYMMDD HH24MISS') data_emi,         NULL id_orig_provincia_mor, NULL id_orig_comune_mor,         util.fchar_to_date (p.data_decesso, 'YYYYMMDD HH24MISS') data_mor,         util.fchar_to_date (p.data_nascita,                             'YYYYMMDD HH24MISS') data_nascita,         NULL id_orig_d_persona_madre, NULL id_orig_d_persona_padre,         p.numero_famiglia id_orig_d_famiglia,         util.fchar_to_date                           (p.data_inizio_rap_par,                            'YYYYMMDD'                           ) dt_ini_val_dato_d_famiglia,         '1' tipo_famiglia, NULL denominazione_famiglia,         p.rapporto_parentela relaz_par,            TO_CHAR (TO_NUMBER (p.codice_via))         || '#'         || numero_civico         || '#'         || barrato         || '#'         || subbarrato civico,            'UPDATE DEMOGRAFIA_2_0_2_0 SET CARONTE_FLAG_ELABORATO = 1 WHERE MATRICOLA = '''         || matricola         || ''''         || ' AND TO_CHAR(CARONTE_DATA_INIZIO_VAL,''YYYYMMDDHH24MISS'') = '''         || TO_CHAR (p.caronte_data_inizio_val, 'YYYYMMDDHH24MISS')         || '''' sql_flag_elaborato,         util.fchar_to_date                      (p.data_inizio_residenza_via,                       'YYYYMMDD HH24MISS'                      ) dt_ini_val_dato_indirizzo,         util.fchar_to_date                       (p.data_fine_residenza_via,                        'YYYYMMDD HH24MISS'                       ) dt_fine_val_dato_indirizzo,         v.sedime, v.descrizione nome_via, flag_codice_fiscale,         p.flag_coniuge, p.codice_fiscale_coniuge, p.cognome_coniuge, p.nome_coniuge,         util.fchar_to_date                      (p.data_nascita_coniuge,                       'YYYYMMDD HH24MISS'                      ) data_nascita_coniuge    FROM DEMOGRAFIA_2_0_2_0 p LEFT JOIN VIE_ANAGRAFE_1_0 v         ON v.codice_via = p.codice_via    LEFT JOIN STATO_CIVILE_1_0 s         ON s.codice = p.stato_civile   WHERE p.caronte_flag_elaborato = 0 ORDER BY p.caronte_data_inizio_val
rengine.jchain.in.2.key=RSITRSCRIPT_1
rengine.jchain.in.2.value=<RsIterator><key table="DEMOGRAFIA_2_0_2_0">  		<column name="MATRICOLA"/>    		<column name="DT_EXP_DATO"/></key><commands>	<command name="SIT_STATO"> 		<param id="field" value="NAZIONALITA" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="field" value="NAZIONALITA" dest="DESCRIZIONE" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command> 	<command name="SIT_PROVIN"> 		<param id="field" value="cod_provincia1" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="const" value="" dest="DESCRIZIONE" type="java.lang.String"/> 		<param id="field" value="sigla1" dest="SIGLA" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command> 	<command name="SIT_PROVIN"> 		<param id="field" value="cod_provincia2" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="const" value="" dest="DESCRIZIONE" type="java.lang.String"/> 		<param id="field" value="sigla2" dest="SIGLA" type="java.sql.Timestamp"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command> 	<command name="SIT_PROVIN"> 		<param id="field" value="cod_provincia3" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="const" value="" dest="DESCRIZIONE" type="java.lang.String"/> 		<param id="field" value="sigla3" dest="SIGLA" type="java.sql.Timestamp"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command>	<command name="SIT_COMUNE" livelloAnomalie="1"> 		<param id="field" value="cod_comune1" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/>  		<param id="const" value="" dest="BELFIORE" type="java.lang.String"/> 		<param id="field" value="des_comune1" dest="DESCRIZIONE" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 		<param id="field" value="cod_provincia1" dest="ID_ORIG_PROVINCIA" type="java.lang.String"/>	</command>	<command name="SIT_COMUNE" livelloAnomalie="1"> 		<param id="field" value="cod_comune2" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/>  		<param id="const" value="" dest="BELFIORE" type="java.lang.String"/> 		<param id="field" value="des_comune2" dest="DESCRIZIONE" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 		<param id="field" value="cod_provincia2" dest="ID_ORIG_PROVINCIA" type="java.lang.String"/>	</command>	<command name="SIT_COMUNE" livelloAnomalie="1"> 		<param id="field" value="cod_comune3" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="field" value="des_comune3" dest="DESCRIZIONE" type="java.lang.String"/>  		<param id="const" value="" dest="BELFIORE" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 		<param id="field" value="cod_provincia3" dest="ID_ORIG_PROVINCIA" type="java.lang.String"/>	</command>	<command name="SITDSTACIV" livelloAnomalie="1"> 		<param id="field" value="STATO_CIVILE" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/>		<param id="field" value="DESCRIZIONE_STATO_CIVILE" dest="DESCRIZIONE" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command>	<command name="SIT_D_VIA" livelloAnomalie="1"> 		<param id="field" value="CODICE_VIA" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="field" value="SEDIME" dest="VIASEDIME" type="java.lang.String"/>  		<param id="field" value="NOME_VIA" dest="DESCRIZIONE" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command>	<command name="SIT_D_CIVI" livelloAnomalie="1"> 		<param id="field" value="CIVICO" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="const" value="" dest="ID_ORIG_D_SEZIONE_ELETTORALE" type="java.lang.String"/> 		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="const" dest="CIVICO_COMPOSTO" type="it.webred.rulengine.type.ComplexParam">		<![CDATA[		  	<complexParam> 				<param name="numero"> [[NUMERO_CIVICO]]   				</param> 				<param name="barrato"> [[BARRATO]]   				</param> 				<param name="subbarrato"> [[SUBBARRATO]]   				</param>  			</complexParam>		]]>		</param> 		<param id="field" value="CODICE_VIA" dest="ID_ORIG_D_VIA" type="java.lang.String"/> 		<param id="const" value="" dest="ID_ORIG_D_FRAZIONE" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command>		<command name="SIT_D_PERS" livelloAnomalie="2"> 		<param id="field" value="MATRICOLA" dest="ID_ORIG" type="java.lang.String"/> 		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="field" value="COGNOME" dest="COGNOME" type="java.lang.String"/> 		<param id="field" value="NOME" dest="NOME" type="java.lang.String"/> 		<param id="field" value="SESSO" dest="SESSO" type="java.lang.String"/> 		<param id="field" value="CODFISC" dest="CODFISC" type="java.lang.String"/> 		<param id="field" value="POSIZ_ANA" dest="POSIZ_ANA" type="java.lang.String"/> 		<param id="field" value="STATO_CIVILE" dest="STATO_CIVILE" type="java.lang.String"/> 		<param id="field" value="DES_PERSONA" dest="DES_PERSONA" type="java.lang.String"/> 		<param id="field" value="DATA_INIZIO_RESIDENZA" dest="DATA_INIZIO_RESIDENZA" type="java.sql.Timestamp"/> 		<param id="field" value="NAZIONALITA" dest="ID_ORIG_STATO" type="java.lang.String"/> 		<param id="field" value="cod_provincia3" dest="ID_ORIG_PROVINCIA_IMM" type="java.lang.String"/> 		<param id="field" value="cod_comune3" dest="ID_ORIG_COMUNE_IMM" type="java.lang.String"/> 		<param id="field" value="DATA_IMM" dest="DATA_IMM" type="java.sql.Timestamp"/> 		<param id="field" value="cod_provincia2" dest="ID_ORIG_PROVINCIA_EMI" type="java.lang.String"/> 		<param id="field" value="cod_comune2" dest="ID_ORIG_COMUNE_EMI" type="java.lang.String"/> 		<param id="field" value="DATA_EMI" dest="DATA_EMI" type="java.sql.Timestamp"/>		<param id="field" value="ID_ORIG_PROVINCIA_MOR" dest="ID_ORIG_PROVINCIA_MOR" type="java.lang.String"/> 		<param id="field" value="ID_ORIG_COMUNE_MOR" dest="ID_ORIG_COMUNE_MOR" type="java.lang.String"/> 		<param id="field" value="DATA_MOR" dest="DATA_MOR" type="java.sql.Timestamp"/>				<param id="field" value="cod_provincia1" dest="ID_ORIG_PROVINCIA_NASCITA" type="java.lang.String"/> 		<param id="field" value="cod_comune1" dest="ID_ORIG_COMUNE_NASCITA" type="java.lang.String"/> 		<param id="field" value="DATA_NASCITA" dest="DATA_NASCITA" type="java.sql.Timestamp"/>				<param id="field" value="ID_ORIG_D_PERSONA_MADRE" dest="ID_ORIG_D_PERSONA_MADRE" type="java.lang.String"/> 		<param id="field" value="ID_ORIG_D_PERSONA_PADRE" dest="ID_ORIG_D_PERSONA_PADRE" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/>        	<param id="field" value="FLAG_CODICE_FISCALE" dest="FLAG_CODICE_FISCALE" type="java.lang.String"/>		<param id="field" value="MATRICOLA_CONIUGE" dest="MATRICOLA_CONIUGE" type="java.lang.String"/>		<param id="field" value="FLAG_CONIUGE" dest="FLAG_CONIUGE" type="java.lang.String"/>		<param id="field" value="CODICE_FISCALE_CONIUGE" dest="CODICE_FISCALE_CONIUGE" type="java.lang.String"/>		<param id="field" value="COGNOME_CONIUGE" dest="COGNOME_CONIUGE" type="java.lang.String"/>		<param id="field" value="NOME_CONIUGE" dest="NOME_CONIUGE" type="java.lang.String"/>		<param id="field" value="DATA_NASCITA_CONIUGE" dest="DATA_NASCITA_CONIUGE" type="java.sql.Timestamp"/>	</command>	<command name="SIT_D_PC" livelloAnomalie="1"> 		<param id="field" value="MATRICOLA" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="field" value="MATRICOLA" dest="ID_ORIG_D_PERSONA" type="java.lang.String"/> 		<param id="field" value="CIVICO" dest="ID_ORIG_D_CIVICO" type="java.lang.String"/> 		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="field" value="DT_INI_VAL_DATO_INDIRIZZO" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="field" value="DT_FINE_VAL_DATO_INDIRIZZO" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command>		<command name="SIT_D_FAMI" livelloAnomalie="1"> 		<param id="field" value="ID_ORIG_D_FAMIGLIA" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="field" value="TIPO_FAMIGLIA" dest="TIPOFAMI" type="java.lang.String"/> 		<param id="field" value="DENOMINAZIONE_FAMIGLIA" dest="DENOMINAZIONE" type="java.lang.String"/>		<param id="const" value="" dest="ID_ORIG_D_CIVICO" type="java.lang.String"/>     		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command>	    <command name="SIT_D_UNIO">         <param id="field" value="MATRICOLA" dest="ID_ORIG" type="java.lang.String"/>        <param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/>         <param id="const" value="" dest="GENER_UNIONE" type="java.lang.String"/>         <param id="const" value="" dest="DATA_UNIONE" type="java.lang.String"/>         <param id="const" dest="ID_ORIG_D_COMUNE" type="java.lang.String"/>        <param id="const" dest="ID_ORIG_D_PROVINCIA" type="java.lang.String"/>        <param id="field" value="MATRICOLA" dest="ID_ORIG_D_PERSONA1" type="java.lang.String"/>        <param id="field" value="MATRICOLA_CONIUGE" dest="ID_ORIG_D_PERSONA2" type="java.lang.String"/>        <param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/>         <param id="const" value="" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/>         <param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/>         <param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/>     </command>	<command name="PERS_FAM" livelloAnomalie="1"> 		<param id="field" value="MATRICOLA" dest="ID_ORIG" type="java.lang.String"/>		<param id="const" value="1" dest="FK_ENTE_SORGENTE" type="java.lang.Integer"/> 		<param id="field" value="MATRICOLA" dest="ID_ORIG_D_PERSONA" type="java.lang.String"/> 		<param id="field" value="ID_ORIG_D_FAMIGLIA" dest="ID_ORIG_D_FAMIGLIA" type="java.lang.String"/>		<param id="field" value="RELAZ_PAR" dest="RELAZ_PAR" type="java.lang.String"/>		<param id="field" value="DT_EXP_DATO" dest="DT_EXP_DATO" type="java.sql.Timestamp"/> 		<param id="field" value="DT_INI_VAL_DATO_D_FAMIGLIA" dest="DT_INI_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="" dest="DT_FINE_VAL_DATO" type="java.sql.Timestamp"/> 		<param id="const" value="0" dest="FLAG_DT_VAL_DATO" type="java.lang.Integer"/> 	</command><command name="COMANDOSQL">			<param id="const" dest="SQL" type="it.webred.rulengine.type.ComplexParam"><![CDATA[<complexParam><param type="java.lang.String" name="paramsql1">update DEMOGRAFIA_2_0_2_0 SET CARONTE_FLAG_ELABORATO = 1 WHERE MATRICOLA=?			AND CARONTE_DATA_INIZIO_VAL=?</param></complexParam> ]]>			</param>			<param id="const" dest="PARAMETRI" type="it.webred.rulengine.type.ComplexParam">		<![CDATA[		<complexParam>			<param name="param1"> [[MATRICOLA]]			</param>			<param name="param2"> [[DT_EXP_DATO]]			</param>		</complexParam>		]]>			</param>		</command></commands>	</RsIterator>